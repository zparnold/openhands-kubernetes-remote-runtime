# Example environment configuration for the Runtime API
# Copy this file to .env and update with your values

# Server Configuration
SERVER_PORT=8080
# Log level: "info" (default) or "debug" (verbose logging with request/response details)
# WARNING: Debug mode logs sensitive data like API keys and tokens. Only use in secure environments.
LOG_LEVEL=info

# Authentication
API_KEY=your-secure-api-key-here

# Kubernetes Configuration
NAMESPACE=openhands
INGRESS_CLASS=nginx

# Domain Configuration
# This is the base domain for subdomain routing
# Requires wildcard DNS: *.sandbox.example.com -> Ingress Controller IP
BASE_DOMAIN=sandbox.example.com

# Optional: annotations added to each sandbox Ingress (comma-separated key=value)
# Example: cert-manager for TLS, or backend protocol
# SANDBOX_INGRESS_ANNOTATIONS=cert-manager.io/issuer=my-issuer,cert-manager.io/issuer-group=cert-manager.io

# Container Registry Configuration
REGISTRY_PREFIX=ghcr.io/openhands
DEFAULT_IMAGE=ghcr.io/openhands/runtime:latest
# Optional: Kubernetes secret names for pulling images from a private registry (comma-separated)
# IMAGE_PULL_SECRETS=my-registry-pull-secret

# Port Configuration (should match OpenHands expectations)
AGENT_SERVER_PORT=60000
VSCODE_PORT=60001
WORKER_1_PORT=12000
WORKER_2_PORT=12001

# OpenHands App Server Configuration (optional)
# Used for webhooks and CORS configuration
APP_SERVER_URL=https://app.example.com
APP_SERVER_PUBLIC_URL=https://app.example.com

# Proxy Mode Configuration (optional)
# When set, sandbox URLs go through this API (requires only one DNS record)
# Avoids DNS propagation delays for ephemeral sandboxes
# PROXY_BASE_URL=https://runtime-api.your-domain.com

# Cleanup Configuration
# Automatic cleanup of orphaned resources (failed and idle pods)
CLEANUP_ENABLED=true
CLEANUP_INTERVAL_MINUTES=5
CLEANUP_FAILED_THRESHOLD_MINUTES=60
CLEANUP_IDLE_THRESHOLD_MINUTES=1440
